# 配置驱动型后端服务系统 - 项目总览

## 项目简介

本项目是一个基于Spring Boot 3.0的配置驱动型后端服务系统，通过"数据驱动一切"的理念，创建高度灵活、易维护且功能强大的后端服务。系统采用配置化方式驱动业务逻辑和数据库操作，最大限度减少硬编码，提高系统可维护性和扩展性。

## 核心特性

### 🎯 设计理念
- **数据驱动一切**: 所有业务逻辑和数据库操作都通过配置来驱动
- **配置优于编码**: 能用配置实现的功能，绝不使用硬编码
- **标准化操作**: 统一的接口设计和数据处理流程
- **自动化测试**: 完整的测试服务支持

### 🏗️ 四大设计原则
1. **最小化文件数量**: 保持项目结构简洁，避免过度拆分
2. **最小化代码量**: 通过配置驱动减少代码编写
3. **最小化函数调用**: 优化性能，减少调用链路
4. **配置优先原则**: 优先通过配置实现功能

### 🔧 技术栈

| 技术组件 | 版本 | 用途 |
|---------|------|------|
| Java | 17 | 主要开发语言 |
| Spring Boot | 3.0.12 | 应用框架 |
| MyBatis | 3.0.3 | ORM框架 |
| MySQL | 8.2.0 | 关系型数据库 |
| Hutool | 5.8.25 | Java工具库 |
| Lombok | - | 代码简化工具 |
| Spring AOP | - | 面向切面编程 |

## 系统架构

### 分层架构
```
表现层(Controller)
    ↓
业务层(Service)
    ↓
数据访问层(Mapper)
    ↓
配置表驱动
```

### 核心模块
```
com.ycbd.demo/
├── controller/          # 控制器层
├── service/            # 服务层
│   ├── impl/          # 服务实现
│   ├── command/       # 命令执行服务
│   └── validator/     # 数据验证服务
├── mapper/            # 数据访问层
├── model/             # 数据模型
├── entity/            # 实体类
├── config/            # 配置类
├── interceptor/       # 拦截器
├── exception/         # 异常处理
├── Tools/             # 工具类
└── common/            # 公共组件
```

## 配置驱动机制

### 三层配置体系

#### 1. 表属性配置 (table_attribute)
管理表级行为，包括：
- 表名和显示名称
- 排序规则
- 功能模块分类
- 其他表级配置

#### 2. 字段属性配置 (column_attribute)
管理字段级属性，包括：
- 字段名和显示名称
- 显示类型
- 验证规则
- 其他字段级配置

#### 3. 字段校验配置 (column_check_property)
管理字段校验规则，包括：
- 唯一性校验 (isNotExit)
- 外键关联校验 (isExit)
- 范围校验 (isRang)
- 多字段组合校验 (MutiReapeat)

### 核心流程

#### 请求处理流程
```
HTTP请求 → 
  拦截器(JWT验证) → 
    控制器(参数校验) → 
      服务层(业务处理) → 
        数据访问层(SQL执行) →
          配置表驱动
```

#### 数据校验流程
```
请求数据 →
  配置加载(column_check_property) →
    规则解析 →
      校验执行 →
        结果返回
```

## 核心功能

### 🔐 认证授权
- JWT token验证
- 角色权限控制
- 会话管理
- 登录拦截器

### 📊 数据操作
- 通用CRUD接口
- 动态SQL构建
- 配置驱动查询
- 批量操作支持

### ✅ 数据验证
- 配置化验证规则
- 多种验证模式
- 自定义错误信息
- 验证结果统一处理

### 🧪 自动化测试
- 脚本化测试执行
- curl命令解析
- 自动token管理
- 测试报告生成

### 📝 日志记录
- 异步日志服务
- 操作日志记录
- 异常日志记录
- AOP切面日志

## API接口规范

### 通用响应格式
```json
{
    "code": 200,
    "result": {},
    "message": null,
    "timestamp": 1642612345678
}
```

### 主要接口
- `POST /api/common/login` - 用户登录
- `POST /api/common/save` - 数据保存
- `GET /api/common/list` - 数据查询
- `POST /api/common/update` - 数据更新
- `POST /api/common/delete` - 数据删除
- `POST /api/test/run` - 测试执行

## 文档体系

### 📚 核心文档
- [README.md](README.md) - 项目概述和快速开始
- [ARCHITECTURE.md](ARCHITECTURE.md) - 系统架构设计
- [DATABASE.md](DATABASE.md) - 数据库设计指南
- [DEVELOPMENT.md](DEVELOPMENT.md) - 开发指南
- [test-service.md](test-service.md) - 测试服务说明
- [服务系统架构.md](服务系统架构.md) - 详细架构文档

### 📋 配置文档
- [API.md](API.md) - API接口文档
- [CONFIGURATION.md](CONFIGURATION.md) - 配置说明
- [DEPLOYMENT.md](DEPLOYMENT.md) - 部署指南
- [SECURITY.md](SECURITY.md) - 安全配置
- [PERFORMANCE.md](PERFORMANCE.md) - 性能优化
- [MAINTENANCE.md](MAINTENANCE.md) - 运维指南

## 开发规范

### 代码规范
- 遵循Spring Boot最佳实践
- 使用Lombok简化代码
- 统一异常处理机制
- AOP切面编程

### 配置规范
- 配置优先于硬编码
- 统一配置表结构
- 标准化SQL操作
- 规范化验证规则

### 测试规范
- 自动化测试脚本
- 完整的测试覆盖
- 测试报告生成
- 持续集成支持

## 快速开始

### 环境要求
- Java 17+
- MySQL 8.0+
- Maven 3.6+

### 启动步骤
1. 克隆项目代码
2. 配置数据库连接
3. 初始化配置表数据
4. 运行Spring Boot应用
5. 访问API接口

### 开发流程
1. **配置阶段**: 设计表结构，配置属性和校验规则
2. **开发阶段**: 遵循配置优先原则，编写必要业务逻辑
3. **测试阶段**: 执行自动化测试，验证功能完整性
4. **部署阶段**: 准备环境，配置数据库，启动服务

## 项目优势

### 🚀 高效开发
- 配置驱动减少编码量
- 统一的开发模式
- 快速功能实现
- 标准化流程

### 🔧 易于维护
- 配置化业务规则
- 清晰的代码结构
- 统一的异常处理
- 完善的日志记录

### 📈 高度扩展
- 灵活的配置机制
- 模块化设计
- 插件化扩展
- 标准化接口

### 🛡️ 安全可靠
- JWT认证机制
- 权限控制体系
- 数据验证框架
- 异常处理机制

---

> 💡 **提示**: 本项目采用配置驱动的设计理念，建议开发者优先通过配置实现功能，减少硬编码，提高系统的灵活性和可维护性。

> 📖 **更多信息**: 详细的开发指南和API文档请参考 [docs](.) 目录下的相关文档。